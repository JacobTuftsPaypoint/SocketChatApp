{"ast":null,"code":"var _jsxFileName = \"/Users/ismailkhalil/Desktop/ahmed-work/SocketChatApp/src/Components/CreateAccPage/CreateAccMain.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { app, auth, db } from '../LoginPage/LoginMain';\nimport { createUserWithEmailAndPassword, setPersistence, browserSessionPersistence, updateProfile } from 'firebase/auth';\nimport { getFirestore, collection, getDoc, doc, setDoc } from 'firebase/firestore/lite';\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreateAccMain() {\n  _s();\n  const [username, setUsername] = useState();\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const navigate = useNavigate();\n  function signUp() {\n    if (email === undefined || username === undefined || password === undefined) {\n      alert(\"Please Fill out ALL Fields\");\n    } else {\n      setPersistence(auth, browserSessionPersistence).then(() => {\n        createUserWithEmailAndPassword(auth, email, password).then(async userCredential => {\n          await setUserProfile(email, username);\n        }).then(() => {\n          navigate(\"/\");\n        }).catch(error => {\n          var errorCode = error.code;\n          console.log(error.code);\n          switch (errorCode) {\n            case \"auth/email-already-exists\":\n              alert(\"Email already in use\");\n              break;\n            case \"auth/invalid-email\":\n              alert(\"Invalid email - check the format\");\n              break;\n            case \"auth/invalid-display-name\":\n              alert(\"Please Enter a Name\");\n              break;\n            case \"auth/email-already-in-use\":\n              alert(\"Email already in use\");\n              break;\n          }\n        });\n      }).catch(error => {\n        const error2 = error.code;\n        console.log(error2);\n      });\n    }\n  }\n  async function setUserProfile(email, username) {\n    const dbref = collection(db, \"Users\");\n    await setDoc(doc(db, \"Users\", `${email}`), {\n      Username: `${username}`\n    });\n    console.log(`${username} set`);\n  }\n  async function getUser(email) {\n    const docRef = doc(db, \"Users\", `${email}`);\n    const docSnap = await getDoc(docRef);\n    //console.log(docSnap.data())\n    return docSnap.data();\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"CreateAccMain\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"CreateAccContainer\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        id: \"email\",\n        placeholder: \"email\",\n        onChange: event => setEmail(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"username\",\n        placeholder: \"username\",\n        onChange: event => setUsername(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        id: \"passoword\",\n        placeholder: \"password\",\n        onChange: event => setPassword(event.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"signInBtn\",\n        onClick: signUp,\n        children: \"Create Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n_s(CreateAccMain, \"81CYVtDqJKovYioZ9yF8ubq1NJc=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateAccMain;\nvar _c;\n$RefreshReg$(_c, \"CreateAccMain\");","map":{"version":3,"names":["React","useState","app","auth","db","createUserWithEmailAndPassword","setPersistence","browserSessionPersistence","updateProfile","getFirestore","collection","getDoc","doc","setDoc","useNavigate","CreateAccMain","username","setUsername","email","setEmail","password","setPassword","navigate","signUp","undefined","alert","then","userCredential","setUserProfile","catch","error","errorCode","code","console","log","error2","dbref","Username","getUser","docRef","docSnap","data","event","target","value"],"sources":["/Users/ismailkhalil/Desktop/ahmed-work/SocketChatApp/src/Components/CreateAccPage/CreateAccMain.js"],"sourcesContent":["import React, {useState} from 'react'\nimport { app, auth, db } from '../LoginPage/LoginMain'\nimport { createUserWithEmailAndPassword, setPersistence, browserSessionPersistence, updateProfile } from 'firebase/auth'\nimport { getFirestore, collection, getDoc, doc, setDoc} from 'firebase/firestore/lite'\nimport { useNavigate} from \"react-router-dom\"\n\n\nexport default function CreateAccMain() {\n\n  const [username, setUsername] = useState()\n  const [email, setEmail] = useState()\n  const [password, setPassword] = useState()\n\n  const navigate = useNavigate()\n\n  function signUp() {\n\n    if(email === undefined || username === undefined || password === undefined) {\n      alert(\"Please Fill out ALL Fields\")\n    } else {\n\n    setPersistence(auth, browserSessionPersistence)\n        .then(()=> {\n            createUserWithEmailAndPassword(auth, email, password)\n            .then(async (userCredential) => {\n                await setUserProfile(email, username)\n            })\n            .then(() => {\n              navigate(\"/\")\n            })\n            .catch((error) => {\n                var errorCode = error.code;\n                console.log(error.code)\n                switch (errorCode) {\n                    case \"auth/email-already-exists\":\n                        alert(\"Email already in use\")\n                        break;\n                    case \"auth/invalid-email\":\n                        alert(\"Invalid email - check the format\")\n                        break;\n                    case \"auth/invalid-display-name\":\n                        alert(\"Please Enter a Name\")\n                        break;\n                    case \"auth/email-already-in-use\":\n                        alert(\"Email already in use\")\n                        break;\n                }\n        })})\n        .catch((error) => {\n            const error2 = error.code\n            console.log(error2)\n        })\n    }\n}\n\nasync function setUserProfile(email, username) {\n  const dbref = collection(db, \"Users\")\n  await setDoc(doc(db, \"Users\", `${email}`), {\n      Username: `${username}`\n  })\n  console.log(`${username} set`)\n}   \n\nasync function getUser(email) {\n  const docRef = doc(db, \"Users\", `${email}`)\n  const docSnap = await getDoc(docRef)\n  //console.log(docSnap.data())\n  return docSnap.data()\n}\n\n  return (\n    <section className='CreateAccMain'>\n      <div className='CreateAccContainer'>\n        <input type='email' id='email' placeholder='email' onChange={(event) => setEmail(event.target.value)}/>\n        <input type='text' id='username' placeholder='username' onChange={(event) => setUsername(event.target.value)}/>\n        <input type='password' id='passoword' placeholder='password' onChange={(event) => setPassword(event.target.value)}/>\n        <button id='signInBtn' onClick={signUp}>Create Account</button>\n      </div>\n    </section>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}